<?php

/**
 * @file
 * Contains tests for the Sendgrid Integration module.
 */

/**
 * Test case.
 */

class SendgridIntegrationTestCase extends DrupalWebTestCase {
  /**
   * Administrative user.
   *
   * @var object
   */
  protected $admin_user;

  /**
   * Normal web user.
   *
   * @var object
   */
  protected $web_user;

  /**
   * Implements setUp().
   */
  function setUp() {
    // Call the parent with an array of modules to enable for the test.
    $modules[] = 'sendgrid_integration';
    parent::setUp($modules);

    // Create a generic authenticated user.
    $this->web_user = $this->drupalCreateUser();

    // Create an admin user and log them in.
    $this->admin_user = $this->drupalCreateUser([
      'access content',
      'create page content',
      'edit own page content',
      'administer users',
      'administer permissions',
    ]);
    $this->drupalLogin($this->admin_user);
    // Set the role as admin for the admin user just created.
    $this->drupalPost('user/' . $this->admin_user->uid . '/edit', ['roles[3]' => TRUE], t('Save'));

  }

}
